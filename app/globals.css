@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-michroma);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), sans-serif;
}

/* Animations: tracking-in-contract (inspired by Animista) */
@keyframes tracking-in-contract {
  0% {
    letter-spacing: 1em;
    opacity: 0;
    filter: blur(2px);
  }

  40% {
    opacity: 0.6;
    filter: blur(1px);
  }

  100% {
    letter-spacing: normal;
    opacity: 1;
    filter: blur(0);
  }
}

.tracking-in-contract {
  animation-name: tracking-in-contract;
  animation-duration: 1s;
  animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
  animation-fill-mode: both;
}

/* Animations: tracking-in-expand (Animista) */
@keyframes tracking-in-expand {
  0% {
    letter-spacing: -0.2em;
    /* smaller delta -> less reflow */
    opacity: 0;
    transform: perspective(1000px) translateZ(0) scaleX(0.96);
    filter: blur(0.5px);
  }

  60% {
    opacity: 0.9;
    transform: perspective(1000px) translateZ(0) scaleX(1.01);
    filter: blur(0);
  }

  100% {
    letter-spacing: normal;
    opacity: 1;
    transform: perspective(1000px) translateZ(0) scaleX(1);
    filter: none;
  }
}

.tracking-in-expand {
  animation-name: tracking-in-expand;
  animation-duration: 1s;
  animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
  animation-fill-mode: both;
  backface-visibility: hidden;
  transform: translateZ(0);
  will-change: letter-spacing, opacity, transform;
}

/* GPU-friendly alternative: transform+opacity only to avoid layout thrash */
@keyframes tracking-smooth-expand {
  0% {
    transform: translateZ(0) scaleX(0.92);
    opacity: 0;
    /* small fade-in starts */
    filter: blur(0.4px);
  }

  12% {
    opacity: 0.55;
    /* quick initial fade */
  }

  28% {
    opacity: 1;
    /* finish fade early, continue transform */
    filter: blur(0);
  }

  60% {
    transform: translateZ(0) scaleX(1.02);
  }

  100% {
    transform: translateZ(0) scaleX(1);
    opacity: 1;
    filter: none;
  }
}

.tracking-smooth-expand {
  animation-name: tracking-smooth-expand;
  animation-duration: 1s;
  animation-timing-function: cubic-bezier(0.22, 1, 0.36, 1);
  animation-fill-mode: both;
  backface-visibility: hidden;
  transform: translateZ(0);
  will-change: transform, opacity;
}


@media (prefers-reduced-motion: reduce) {

  .tracking-in-contract,
  .tracking-in-expand,
  .orb,
  .orb-inner {
    animation: none !important;
    opacity: 1 !important;
    letter-spacing: normal !important;
    filter: none !important;
    transform: none !important;
  }
}

/* Custom Orb Animation - Adapted from User Request */
.orb-container {
  position: relative;
  width: 160px;
  height: 160px;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  border-radius: 50%;
  rotate: 90deg;
  cursor: pointer;
  /* Updated colors to Purple/Blue theme: #a855f7 (Purple), #3b82f6 (Blue) */
  filter: drop-shadow(0 0 6px rgba(168, 85, 247, 0.5)) drop-shadow(0 0 6px rgba(59, 130, 246, 0.5));
  transition: all 0.3s ease;
}

.orb {
  position: absolute;
  width: 160px;
  aspect-ratio: 1;
  border-radius: 50%;
  background: #060606;
  filter: blur(20px);
  transition: all 0.3s ease;
}

/* Hover effect handled via JS state in React component, strictly controlled via class if needed, 
   but user CSS relies on hover. We'll keep default hover but ideally control scale via React state. */
.orb-container:hover .orb {
  width: 170px;
  animation: orb-rotate 6s infinite;
}

@keyframes orb-rotate {
  50% {
    transform: rotate(180deg);
  }
}

.orb-inner {
  position: absolute;
  left: -120%;
  top: -25%;
  width: 160%;
  aspect-ratio: 1;
  border-radius: 50%;
  background: #a855f7;
  /* Purple */
  clip-path: polygon(50% 0%,
      61% 35%,
      98% 35%,
      68% 57%,
      79% 91%,
      50% 70%,
      21% 91%,
      32% 57%,
      2% 35%,
      39% 35%);
  animation: orb-rotate-full 6s linear infinite;
  transition: all 0.3s ease;
}

.orb-inner:nth-child(2) {
  left: auto;
  right: -120%;
  top: auto;
  bottom: -25%;
  background: #3b82f6;
  /* Blue */
  animation-duration: 8s;
  clip-path: polygon(20% 0%,
      0% 20%,
      30% 50%,
      0% 80%,
      20% 100%,
      50% 70%,
      80% 100%,
      100% 80%,
      70% 50%,
      100% 20%,
      80% 0%,
      50% 30%);
}

@keyframes orb-rotate-full {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

.orb-container:hover .orb .orb-inner {
  width: 170%;
}

/* Scrollbar Hide Utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;
  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* AI Answer scroll container */
.ai-answer-scroll {
  overflow-y: scroll !important;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.ai-answer-scroll::-webkit-scrollbar {
  display: none;
}